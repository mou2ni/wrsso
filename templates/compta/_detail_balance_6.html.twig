<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th class="padding-5">Compte</th>
            <th class="padding-5">Intitulé</th>
            <th class="padding-5 text-right">Débit</th>
            <th class="padding-5 text-right">Crédit</th>
            <th class="padding-5 text-right">Solde débiteur</th>
            <th class="padding-5 text-right">Solde créditeur</th>
        </tr>
    </thead>
    <tbody>
        {% for rubrique in rubriquesBalances %}
            <tr>
                <th class="padding-5" colspan="6" bgcolor="#e5e5e5"> Classe {{ rubrique.classe }}</th>
            </tr>
            {% set totalDebit=0 %}
            {% set totalCredit=0 %}
            {% set totalSoldeDebit=0 %}
            {% set totalSoldeCredit=0 %}
            {% for ligne in rubrique.lignes %}

                {% set totalDebit= totalDebit+ligne.mDebit %}
                {% set totalCredit= totalCredit+ligne.mCredit %}
                {% if ligne.mDebit>ligne.mCredit %}
                    {% set totalSoldeDebit= totalSoldeDebit+ligne.mDebit-ligne.mCredit %}
                {% else %}
                    {% set totalSoldeCredit= totalSoldeCredit+ligne.mCredit-ligne.mDebit %}
                {% endif %}
                <tr>
                    <td class="padding-5 ">{{ligne.numCompte}}</td>
                    <td class="padding-5 ">{{ligne.intitule}}</td>
                    <td class="padding-5 text-right">{{ligne.mDebit|number_format(0, '.', ' ')}}</td>
                    <td class="padding-5 text-right">{{ligne.mCredit|number_format(0, '.', ' ')}}</td>
                    <td class="padding-5 text-right">{{(ligne.mDebit>ligne.mCredit)?(ligne.mDebit-ligne.mCredit )|number_format(0, '.', ' '):0}}</td>
                    <td class="padding-5 text-right">{{(ligne.mDebit<ligne.mCredit)?(ligne.mCredit- ligne.mDebit)|number_format(0, '.', ' '):0}}</td>
                </tr>

            {% else %}
                <tr>
                    <td colspan="7" class="text-center"> Aucune ligne trouvée</td>
                </tr>
            {% endfor %}
            <tr>
                <th class="padding-5 text-right" colspan="2"> Total Classe {{ rubrique.classe }} </th>
                <th class="padding-5 text-right"> {{totalDebit|number_format(0, '.', ' ') }}</th>
                <th class="padding-5 text-right"> {{totalCredit|number_format(0, '.', ' ') }}</th>
                <th class="padding-5 text-right"> {{totalSoldeDebit|number_format(0, '.', ' ') }}</th>
                <th class="padding-5 text-right"> {{totalSoldeCredit|number_format(0, '.', ' ') }}</th>
            </tr>

        {% endfor %}
    </tbody>
</table>